<nav>
  @if (showOverlay) {
    <app-overlay
      [zIndex]="0"
      [opacity]="0.8"
      (click)="toggleMenu()"
    ></app-overlay>
  }
  <div
    appFader
    class="c-container relative pt-1 lg:pt-4 top-0 bg-appBg shadow-sm sm:shadow-none transition-transform duration-[400ms] ease-in-out"
    [class.c-container-hidden]="isCollapsed"
  >
    <button
      (click)="routeTo('')"
      class="c-logo p-3 text-2xl lg:text-3xl uppercase tracking-widest font-bold text-logo"
    >
      <p class="g-hover" [class.text-focus]="isActiveUrl('')">Pali</p>
    </button>

    <button
      (click)="toggleMenu()"
      type="button"
      aria-label="toggle menu"
      class="c-toggle lg:hidden py-3 focus:outline-none"
    >
      <app-plus-svg
        [class]="[
          'g-svg',
          'transition-transform',
          'duration-[400ms]',
          'ease-in-out',
          isMenuOpened ? 'rotate-45' : ''
        ]"
      ></app-plus-svg>
    </button>

    <div
      [class]="[
        'c-menu',
        isMenuOpened ? 'c-menu-opened' : 'c-menu-closed',
        'w-full',
        'pb-3',
        'bg-appBg'
      ]"
    >
      <ul class="c-index">
        @for (item of routes; track item.name) {
          <li class="c-index-item mt-2 sm:ml-5 lg:mt-0 lg:mx-4">
            <button
              (click)="routeTo(item.route)"
              class="p-1 g-text g-hover"
              [class.text-focus]="isActiveUrl(item.route)"
            >
              {{ item.name | titlecase }}
            </button>
          </li>
        }
      </ul>

      <div class="c-divider lg:hidden mb-5 h-6 border-b g-border"></div>

      <button (click)="toggleDark()" class="c-theme p-1">
        @if (isDark) {
          <app-moon-svg [class]="['g-svg', 'g-hover']"></app-moon-svg>
        } @else {
          <app-sun-svg [class]="['g-svg', 'g-hover']"></app-sun-svg>
        }
      </button>

      <button (click)="routeTo('email')" class="c-email p-1 lg:mx-6">
        <app-email-svg
          [class]="[
            'g-svg',
            'g-hover',
            'w-5',
            'h-5',
            isActiveUrl('email') ? 'text-focus' : ''
          ]"
        ></app-email-svg>
      </button>

      <button (click)="routeTo('account')" class="c-account p-1">
        <app-person-svg
          [class]="[
            'g-svg',
            'g-hover',
            isActiveUrl('account') ? 'text-focus' : ''
          ]"
        ></app-person-svg>
      </button>
    </div>
  </div>
</nav>
