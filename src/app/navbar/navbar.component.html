<div>
  @if (showOverlay) {
    <app-overlay [opacity]="0.8" (click)="toggleMenu()" class="c-overlay" />
  }
  <nav
    class="relative c-container pc:px-pcXspan transition-transform duration-[400ms] ease-in-out bg-appBg"
    [class.c-container-hidden]="isCollapsed"
  >
    <div
      appFadeIn
      class="c-banner px-phoneXspan tablat:px-tablatXspan pc:px-0 pt-1 pc:pt-6 shadow-sm tablat:shadow-none"
    >
      <button
        (click)="routeTo('')"
        class="c-logo -ml-3 p-3 pc:py-1 text-2xl pc:text-3xl uppercase tracking-widest font-bold text-logo"
      >
        <p class="gu-hover" [class.text-focus]="isActiveUrl('')">Pali</p>
      </button>

      <button
        (click)="toggleMenu()"
        type="button"
        aria-label="toggle menu"
        class="c-toggle pc:hidden py-3 focus:outline-none"
      >
        <app-plus-svg
          [class]="[
            'gc-svg',
            'transition-transform',
            'duration-[400ms]',
            'ease-in-out',
            isMenuOpened ? 'rotate-45' : ''
          ]"
        />
      </button>
    </div>

    <div
      [class]="[
        'c-menu',
        'w-full',
        'pc:w-full',
        'px-phoneXspan',
        'tablat:px-tablatXspan',
        'pc:px-0',
        'pb-3',
        'pc:pb-0',
        'bg-appBg',
        'pc:bg-transparent',
        animationClass
      ]"
    >
      <ul class="c-routes ml-2 tablat:ml-3 ld:ml-0">
        @for (item of routes; track item.name) {
          <li class="c-route-item mt-2 pc:mt-0 pc:mx-[0.7vw]">
            <button
              (click)="routeTo(item.route)"
              class="gc-text gu-hover pc:px-1 pc:py-1"
              [class.text-focus]="isActiveUrl(item.route)"
            >
              {{ item.name | titlecase }}
            </button>
          </li>
        }
      </ul>

      <div class="c-divider pc:hidden mb-5 h-6 border-b gc-border"></div>

      <button (click)="switchTheme()" class="c-theme p-1">
        @switch (theme) {
          @case (ThemeEnum.DEFAULT) {
            <app-sun-svg [class]="['gc-svg', 'gu-hover']" />
          }
          @case (ThemeEnum.NIGHT) {
            <app-moon-svg [class]="['gc-svg', 'gu-hover']" />
          }
        }
      </button>

      <button (click)="routeTo('email')" class="c-email p-1 pc:mx-6">
        <app-email-svg
          [class]="[
            'gc-svg',
            'gu-hover',
            'w-5',
            'h-5',
            isActiveUrl('email') ? 'text-focus' : ''
          ]"
        />
      </button>

      <button (click)="routeTo('account')" class="c-account p-1">
        <app-person-svg
          [class]="[
            'gc-svg',
            'gu-hover',
            isActiveUrl('account') ? 'text-focus' : ''
          ]"
        />
      </button>
    </div>
  </nav>
</div>
