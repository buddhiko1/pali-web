<div>
  @if (showOverlay) {
    <app-overlay [opacity]="0.8" (click)="toggleMenu()" class="c-overlay" />
  }
  <nav
    class="relative c-container lg:px-lgXspan transition-transform duration-[400ms] ease-in-out bg-appBg"
    [class.c-container-hidden]="isCollapsed"
  >
    <div
      appFadeIn
      class="c-banner px-smXspan sm:px-mdXspan lg:px-0 pt-1 lg:pt-4 shadow-sm sm:shadow-none"
    >
      <button
        (click)="routeTo('')"
        class="c-logo -ml-3 p-3 text-2xl lg:text-3xl uppercase tracking-widest font-bold text-logo"
      >
        <p class="gu-hover" [class.text-focus]="isActiveUrl('')">Pali</p>
      </button>

      <button
        (click)="toggleMenu()"
        type="button"
        aria-label="toggle menu"
        class="c-toggle lg:hidden py-3 focus:outline-none"
      >
        <app-plus-svg
          [class]="[
            'gc-svg',
            'transition-transform',
            'duration-[400ms]',
            'ease-in-out',
            isMenuOpened ? 'rotate-45' : ''
          ]"
        />
      </button>
    </div>

    <div
      class="c-menu w-full lg:w-full px-smXspan sm:px-mdXspan lg:px-0 pb-3 lg:pb-0 bg-appBg lg:bg-transparent"
      [class.c-menu-opened]="isMenuOpened"
      [class.c-menu-closed]="!isMenuOpened"
    >
      <ul class="c-routes ml-2 sm:ml-3 ld:ml-0">
        @for (item of routes; track item.name) {
          <li class="c-route-item mt-2 lg:mt-0 lg:mx-[0.7vw]">
            <button
              (click)="routeTo(item.route)"
              class="gc-text gu-hover lg:px-1 lg:py-3"
              [class.text-focus]="isActiveUrl(item.route)"
            >
              {{ item.name | titlecase }}
            </button>
          </li>
        }
      </ul>

      <div class="c-divider lg:hidden mb-5 h-6 border-b gc-border"></div>

      <button (click)="switchTheme()" class="c-theme p-1">
        @switch (theme) {
          @case (ThemeEnum.DEFAULT) {
            <app-sun-svg [class]="['gc-svg', 'gu-hover']" />
          }
          @case (ThemeEnum.NIGHT) {
            <app-moon-svg [class]="['gc-svg', 'gu-hover']" />
          }
        }
      </button>

      <button (click)="routeTo('email')" class="c-email p-1 lg:mx-6">
        <app-email-svg
          [class]="[
            'gc-svg',
            'gu-hover',
            'w-5',
            'h-5',
            isActiveUrl('email') ? 'text-focus' : ''
          ]"
        />
      </button>

      <button (click)="routeTo('account')" class="c-account p-1">
        <app-person-svg
          [class]="[
            'gc-svg',
            'gu-hover',
            isActiveUrl('account') ? 'text-focus' : ''
          ]"
        />
      </button>
    </div>
  </nav>
</div>
